前回はHTTPについて解説しました。

1. ブラウザが "GET" という命令に、ほしいページをWebサーバーに伝える
2. Webサーバーはそのページの中身をブラウザに返す

というとてもシンプルなものでした。

ところで普段Webページをみていると、ショッピングサイトや動画サイトなどアクセスするタイミングや、誰がログインしてるかでページ内容が違いますね。

これはWebサーバーがリクエストのたびに異なるコンテンツを作成してブラウザに返しているためです。
動的に生成されるコンテンツなので「動的コンテンツ」といいます。
逆にリクエストに影響されない誰がみても同じ内容のコンテンツを「静的コンテンツ」といいます。

きょうはこの「動的コンテンツ」の返し方について説明します。

動的コンテンツを説明する前に、もう一度静的コンテンツのやりとりについておさらいしてみましょう。

まずブラウザは「HTTTPリクエスト」で "index.html" を "GET" したいとリクエストします。
（強調）
> GET /index.html HTTP/1.1
（/強調）

するとWebサーバーは、サーバー内に保存された index.html というファイルを探し、ヘッダーとともにその内容を "レスポンス" としてブラウザに返すわけですね。

（強調）
< HTTP/1.1 200 OK
<
<html>
<body>Hello</body>
</html>
（/強調）

では次に動的コンテンツの場合です。ここでは動的に表示されるページのファイル名を "index.php" （いんでっっくす、ぴーえいちぴー）とします。
まず事前にWebサーバー側で、ファイルの拡張子が php の場合はファイルの中身をそのまま返さず、プログラムに処理をかけて結果として出力された内容を返す、と設定しておきます。

ブラウザは「HTTTPリクエスト」で "index.php" を "GET" したいとリクエストします。

Webサーバーは、事前の設定の通りファイルの拡張子が php なのでプログラムにファイルを渡します。

プログラムは index.php を処理します。このファイルはPHPというプログラミング言語で書かれているため実行のたびにコンテンツを動的に生成することができます。
PHPは実行結果をHTMLに整形してWebサーバーに返します。

するとWebサーバーは、この動的に生成されたHTMLを "レスポンス" としてブラウザに返します。

ブラウザは静的コンテンツのときと同様HTMLに基づいてページを表示します。
もしそのページが現在時刻を表示するような処理がある場合は、リクエストするたびに異なるページが表示されます。

これが動的コンテンツの仕組みです。
